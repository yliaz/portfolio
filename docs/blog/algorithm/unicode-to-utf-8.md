---
title: ä»Unicodeåˆ°UTF-8ï¼Œå…¶å®å¾ˆå®¹æ˜“
---

## æ¦‚è¿°

è¿™ç¯‡æ–‡ç« ä¸­ï¼Œæˆ‘ä»¬æ‰“ç®—æ‰‹å†™ä¸€ä¸ªå°†å­—ç¬¦çš„Unicodeå€¼è½¬æ¢ä¸ºUTF-8ç¼–ç çš„å‡½æ•°ã€‚

## åŸºæœ¬æ€æƒ³

å¯¹äºä¸€ä¸ªå­—ç¬¦ä¸²ä¸­çš„æ¯ä¸€ä¸ªå­—ç¬¦ï¼Œé¦–å…ˆå°†å®ƒçš„Unicodeå€¼è½¬æ¢ä¸ºäºŒè¿›åˆ¶æ•°å­—ä¸²ï¼Œç„¶åå¯¹äºäºŒè¿›åˆ¶æ•°å­—ä¸²æŒ‰ç…§UTF-8çš„ç¼–ç è§„åˆ™è¿›è¡Œè½¬æ¢ï¼Œæœ€ç»ˆå¾—åˆ°UTF-8ç¼–ç ã€‚



## UTF-8ç¼–ç è§„åˆ™

### ç¼–ç è§„åˆ™è¡¨

"xxxxx"ä»äºŒè¿›åˆ¶æ•°å­—ä¸²å°¾éƒ¨ä¾æ¬¡å–å¾—ï¼Œè‹¥é«˜ä½ä¸è¶³åˆ™è¡¥"0"ã€‚

| **Unicodeæ•°å€¼èŒƒå›´ï¼ˆ16è¿›åˆ¶ï¼‰** |     **UTF-8ç¼–ç è§„åˆ™ï¼ˆäºŒè¿›åˆ¶ï¼‰**     |
| :---------------------------: | :---------------------------------: |
|     0000 0000 - 0000 007F     |              0xxxxxxx               |
|     0000 0080 - 0000 07FF     |          110xxxxx 10xxxxxx          |
|     0000 0800 - 0000 FFFF     |     1110xxxx 10xxxxxx 10xxxxxx      |
|     0001 0000 - 0010 FFFF     | 11110xxx 10xxxxxx 10xxxxxx 10xxxxxx |

> æ¨èä¸€ä¸ªå¯ä»¥å¾ˆæ–¹ä¾¿åœ°è¿›è¡ŒUnicodeæŸ¥è¯¢çš„ç½‘ç«™ï¼š[FileFormat](http://www.fileformat.info/)

### ä¸¾ä¸ªä¾‹å­ ğŸŒ°

![utf-8.png](https://zhuye-1308301598.file.myqcloud.com/markdown/173102efa27b5fff~tplv-t2oaga2asx-image.image)


## æºä»£ç ï¼ˆé™„æ³¨é‡Šï¼‰

```javascript
/*
 * è™½ç„¶ä½¿ç”¨äº†æœ€ç¬¨çš„æ–¹æ³•ï¼Œä½†ä¹Ÿæ˜¯ç›¸å¯¹å®¹æ˜“ç†è§£çš„æ–¹æ³•
 */

// æ¥å—ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œè¿”å›UTF-8ç¼–ç ä¸²
function Unicode2UTF8(string) {
    // result ç”¨äºè®°å½•æœ€åçš„ç»“æœ
    let result = '';
    // å°†stringçš„æ¯ä¸ªå­—ç¬¦éƒ½è½¬ä¸ºäºŒè¿›åˆ¶å†è¿›è¡ŒEncodeæ“ä½œ
    for (let ch of string) {
        // ä¸‹é¢å¼€å§‹ç¼–ç æ“ä½œ, ä¸ºäº†æ–¹ä¾¿æŸ¥çœ‹ï¼Œç»“æœç”¨16è¿›åˆ¶æ˜¾ç¤º
        // å–å­—ç¬¦ä¸²ä¸­çš„æ¯ä¸ªå­—ç¬¦ï¼Œå¹¶è·å–åˆ°å®ƒçš„äºŒè¿›åˆ¶æ•°å­—ä¸²ï¼Œä¼ å…¥getUTF-8å‡½æ•°è¿›è¡Œè½¬æ¢
        // è¿”å›çš„ç»“æœç”¨16è¿›åˆ¶è¡¨ç¤º
        result += "0x" + parseInt(getUTF8(ch.charCodeAt().toString(2)), 2).toString(16);
    }
    console.log(result);
    return result;
}

// æ¥æ”¶ä¸€ä¸ªå­—ç¬¦ä¸²çš„Unicodeå€¼ï¼ˆäºŒè¿›åˆ¶ï¼‰ï¼Œè½¬æ¢æˆUTF8ç¼–ç ï¼ˆäºŒè¿›åˆ¶ï¼‰å¹¶è¿”å›
function getUTF8(string) {
    // é€šè¿‡å­—ç¬¦ä¸²çš„ä¸åŒé•¿åº¦åˆ¤æ–­æ–½åŠ ä½•ç§æ“ä½œ
    const length = string.length
    if (length <= 7) {
        // ASCIIç 
        return string;
    } else if (length <= 11) {
        // å­—ç¬¦ä¸²å‰é¢å¡«6ä¸ª0ï¼Œå†ä»åå…­ä½æŠ½ä¸¤æ¬¡
        const tempString = '000000' + string;
        return '110' + tempString.slice(-11, -6) + '10' + tempString.slice(-6);
    } else if (length <= 16) {
        // å­—ç¬¦ä¸²å‰é¢å¡«6ä¸ª0ï¼Œå†ä»åå…­ä½æŠ½ä¸‰æ¬¡
        const tempString = '000000' + string;
        return '1110' + tempString.slice(-16, -12) + '10' + tempString.slice(-12, -6) + '10' + tempString.slice(-6);
    } else {
        // å­—ç¬¦ä¸²å‰é¢å¡«6ä¸ª0ï¼Œå†ä»åå…­ä½æŠ½å››æ¬¡
        const tempString = '000000' + string
        return '11110' + tempString.slice(-21, -18) + '10' + tempString.slice(-18, -12) + '10' + tempString.slice(-12, -6) + '10' + tempString.slice(-6);
    }
}
```